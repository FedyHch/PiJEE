<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">


	<ui:define name="pageTitle">Liste des contrats</ui:define>
	<ui:define name="pageContent">
		<h:form>
		<h:commandButton styleClass="btn" 	action="AddContract?faces-redirect-true" value="add Contract" />
			<center>
				<h3>Liste des Contrats</h3>
			</center>
			<h:dataTable value="#{contractBean.allContract}" var="e" border="1">
				<f:facet class="text-center" name="header">All Contract</f:facet>
				<h:column>
					<f:facet name="header">Numero de contrat</f:facet>
					<h:outputText value="#{e.contractId}" />
				</h:column>
				<h:column>
					<f:facet name="header">Type</f:facet>
					<h:outputText value="#{e.type}" />
				</h:column>

				<h:column>
					<f:facet name="header">Police Classe</f:facet>
					<h:outputText value="#{e.insurancePolicy.insuranceClass}" />
				</h:column>

				<h:column>
					<f:facet name="header">date fin</f:facet>
					<h:outputText value="#{e.endDate}" />
				</h:column>
				<h:column>
					<f:facet name="header">date debut </f:facet>
					<h:outputText value="#{e.startDate}" />
				</h:column>

				<h:column>
					<f:facet name="header">Assurance </f:facet>
					<h:outputText value="#{e.insuranceCompany.compName}" />
				</h:column>

				<h:column>
					<f:facet name="header">Assur√© </f:facet>
					<h:outputText value="#{e.assures.nom}" />
				</h:column>

				<h:column>
					<f:facet name="header">Outils</f:facet>
					<h:commandButton styleClass="btn" value="Edit"
						action="#{contractBean.updateContractInit(e)}" />
					<h:commandButton styleClass="btn"
						action="#{contractBean.deleteContract(e)}" value="Delete" />
					<h:commandButton styleClass="btn"
						action="#{contractBean.DetailsContract(e)}" value="Fidelisation" />
				</h:column>
			</h:dataTable>

			<div
				class="col-md-8 col-md-offset-2 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-center fh5co-table">
				<div class="fh5co-intro fh5co-table-cell">
					<p:chart type="pie" model="#{chartView.pieModel1}"
						style="width:600px;height:400px" />
				</div>
			</div>



		</h:form>



	</ui:define>
</ui:composition>